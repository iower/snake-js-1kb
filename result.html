<pre id="e" style="transform:scaleY(.5);text-align:center"><script>var c=14,s=' ',b=0,n="\n",g,u,a=A=[],v,w,q,m=Math,d=m.random,J=clearInterval,K=setInterval;r=(n,f)=>{for(j=0;j++<n;f(j));};t=(text)=>{e.innerHTML+=text;};z=()=>{e.innerHTML='';r(c+2,()=>t(b));t(n);for(y=c-1;y>=0;y--){t(b);for(x=0;x<=c-1;x++)B(x,y)||v==x&&w==y||~A.indexOf(y)?t(b):t(s);t(b);t(n);}r(c+2,()=>t(b));};onkeydown=(N)=>{I=N.keyCode-36;if(m.abs(I-g)!=2)u=I;};F=(p)=>p==c-1?0:p+1;G=(p)=>p==0?c-1:p-1;M=()=>{if(u){g=u;u=0;}h=a[0][0];o=a[0][1];if(g==1)h=G(h);if(g==2)o=F(o);if(g==3)h=F(h);if(g==4)o=G(o);if(!B(h,o)){a.unshift([h,o]);a[0][0]==v&&a[0][1]==w?H():a.pop();}else{J(q);L();}};B=(x,y)=>{for(k=0;k<a.length;k++)if(a[k][0]==x&&a[k][1]==y)return 1;};C=()=>~~(d()*(c-1));H=()=>{do{v=C();w=C();}while(B(v,w));};D=()=>{a=[];g=3;r(3,(i)=>(a.push([~~(c/2-i),~~(c/2)])));H();z();};E=()=>{q=K(()=>{M();z();},150);};D();E();L=()=>{l=0;up=1;q=K(()=>{z();if(up){A.push(l);l++;if(l==c)up=0;}else{if(l==c)D();A.pop();l--;if(!l){J(q);E();}}},20);};</script>